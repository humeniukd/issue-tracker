{"version":3,"sources":["api.js","components/Card.js","hooks.js","components/Issues.js","App.js","reportWebVitals.js","theme.js","index.js"],"names":["BASE","process","STATUSES","fetchIssues","axios","get","patchIssue","issueId","status","patch","useStyles","makeStyles","theme","createStyles","paper","marginBottom","spacing","padding","textAlign","color","palette","text","secondary","Card","issue","refresh","classes","useState","isLoading","setIsLoading","id","a","usePatchIssue","isOpen","setIsOpen","handleClose","Paper","className","Box","display","flexGrow","title","description","justifyContent","Button","onClick","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","disabled","then","autoFocus","root","Issues","issues","setIssues","data","useIssues","fetch","useEffect","Grid","container","item","xs","filter","map","App","error","setError","interceptors","response","use","Promise","reject","useError","Snackbar","autoHideDuration","Boolean","message","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","primary","main","red","A400","background","default","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.1101f2a6.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst BASE = process.env.REACT_APP_API || 'http://localhost:8000/api'\n\nexport const STATUSES = {\n  OPEN: 0,\n  PENDING: 1,\n  CLOSED: 2,\n}\n\nexport const fetchIssues = () => axios.get(`${BASE}/issues`)\n\nexport const patchIssue = (issueId, status) =>\n  axios.patch(`${BASE}/issues/${issueId}`, { status })","import React, { useState } from 'react'\nimport Forward from '@material-ui/icons/Forward'\nimport { Box, Button, Paper } from '@material-ui/core'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\nimport { STATUSES } from '../api'\nimport { usePatchIssue } from '../hooks'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    paper: {\n      marginBottom: theme.spacing(1),\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n  }),\n);\n\nfunction Card({ issue, refresh }) {\n  const classes = useStyles();\n  const [isLoading, patch] = usePatchIssue();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const status = status => {\n    switch (status) {\n      case STATUSES.OPEN:\n        return STATUSES.PENDING\n      case STATUSES.PENDING:\n        return STATUSES.CLOSED\n    }\n  }\n  const handleClose = () => setIsOpen(false)\n\n  const handleConfirm = () => {\n    patch(issue.id, status(issue.status)).then(refresh)\n    handleClose()\n  }\n\n  return <Paper className={classes.paper}>\n    <Box display=\"flex\">\n      <Box flexGrow={1}>\n        <h3>{issue.title}</h3>\n        <br/>\n        {issue.description}\n      </Box>\n      {STATUSES.CLOSED !== issue.status &&\n        <Box display=\"flex\" justifyContent=\"center\">\n          <Button\n            onClick={() => setIsOpen(true)}>\n            <Forward/>\n          </Button>\n        </Box>}\n    </Box>\n    <Dialog\n      open={isOpen}\n      onClose={handleClose}\n    >\n      <DialogTitle>Confirmation</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {`You about to change status of ${issue.title}?`}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button disabled={isLoading}\n            onClick={handleConfirm}\n            color=\"primary\"\n            autoFocus>\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </Paper>\n}\n\nexport default Card;","import axios from 'axios'\nimport { useState } from 'react'\nimport { fetchIssues, patchIssue } from './api'\n\nexport const useIssues = () => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [issues, setIssues] = useState([])\n\n  async function fetch() {\n    try {\n      setIsLoading(true)\n      const { data } = await fetchIssues()\n      setIssues(data)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return [isLoading, issues, fetch]\n}\n\nexport const usePatchIssue = () => {\n  const [isLoading, setIsLoading] = useState(false)\n\n  async function patch(id, status) {\n    try {\n      setIsLoading(true)\n      await patchIssue(id, status)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return [isLoading, patch]\n}\n\nexport const useError = () => {\n  const [error, setError] = useState()\n  axios.interceptors.response.use(null, function(error) {\n    setError(error)\n    return Promise.reject(error);\n  });\n  return [error, setError]\n}\n\n\n","import { useIssues } from '../hooks'\nimport React, { useEffect } from 'react'\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Card from './Card'\nimport { STATUSES } from '../api'\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n  }),\n);\n\nfunction Issues() {\n  const [isLoading, issues, fetch] = useIssues()\n\n  useEffect(() => {\n    fetch()\n  }, [])\n\n  const classes = useStyles();\n\n  return (\n    isLoading ? 'Loading...' : <div className={classes.root}>\n      <Grid container spacing={1}>\n        <Grid item xs={4}>\n          <h3>OPEN</h3>\n          {issues.filter(issue => STATUSES.OPEN === issue.status)\n            .map(issue => <Card key={issue.id} issue={issue} refresh={fetch}/>)}\n        </Grid>\n        <Grid item xs={4}>\n          <h3>PENDING</h3>\n          {issues.filter(issue => STATUSES.PENDING === issue.status)\n            .map(issue => <Card key={issue.id} issue={issue} refresh={fetch}/>)}\n        </Grid>\n        <Grid item xs={4}>\n          <h3>CLOSED</h3>\n          {issues.filter(issue => STATUSES.CLOSED === issue.status)\n            .map(issue => <Card key={issue.id} issue={issue} refresh={fetch}/>)}\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default Issues;","import Snackbar from '@material-ui/core/Snackbar';\nimport './App.css';\nimport Issues from './components/Issues';\nimport { useError } from './hooks'\n\nfunction App() {\n  const [error, setError] = useError()\n  return (\n    <div className=\"App\">\n      <h1>Issue tracker</h1>\n      <Issues />\n      {error && <Snackbar\n        autoHideDuration={5000}\n        open={Boolean(error)}\n        onClose={() => setError()}\n        message={error.message}\n      />}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6',\n    },\n    secondary: {\n      main: '#19857b',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#fff',\n    },\n  },\n});\n\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}