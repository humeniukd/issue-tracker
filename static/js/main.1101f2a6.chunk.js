(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(11),s=n.n(r),a=(n(78),n(16)),i=n(151),u=(n(79),n(34)),o=n.n(u),j=n(48),l=n(31),b=n.n(l),f="https://issuetrac.herokuapp.com/api",O=0,h=1,p=2,d=function(){return b.a.get("".concat(f,"/issues"))},x=function(e,t){return b.a.patch("".concat(f,"/issues/").concat(e),{status:t})},m=n(138),v=n(152),g=n(145),C=n(63),y=n.n(C),k=n(139),w=n(148),S=n(150),N=n(149),E=n(144),F=n(142),P=n(143),B=n(141),D=n(3),I=Object(m.a)((function(e){return Object(v.a)({paper:{marginBottom:e.spacing(1),padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})}));var L=function(e){var t=e.issue,n=e.refresh,r=I(),s=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];function s(){return(s=Object(j.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,x(t,n);case 4:return e.prev=4,r(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})))).apply(this,arguments)}return[n,function(e,t){return s.apply(this,arguments)}]}(),i=Object(a.a)(s,2),u=i[0],l=i[1],b=Object(c.useState)(!1),f=Object(a.a)(b,2),d=f[0],m=f[1],v=function(){return m(!1)};return Object(D.jsxs)(k.a,{className:r.paper,children:[Object(D.jsxs)(w.a,{display:"flex",children:[Object(D.jsxs)(w.a,{flexGrow:1,children:[Object(D.jsx)("h3",{children:t.title}),Object(D.jsx)("br",{}),t.description]}),p!==t.status&&Object(D.jsx)(w.a,{display:"flex",justifyContent:"center",children:Object(D.jsx)(S.a,{onClick:function(){return m(!0)},children:Object(D.jsx)(y.a,{})})})]}),Object(D.jsxs)(N.a,{open:d,onClose:v,children:[Object(D.jsx)(B.a,{children:"Confirmation"}),Object(D.jsx)(F.a,{children:Object(D.jsx)(P.a,{children:"You about to change status of ".concat(t.title,"?")})}),Object(D.jsxs)(E.a,{children:[Object(D.jsx)(S.a,{disabled:u,onClick:function(){l(t.id,function(e){switch(e){case O:return h;case h:return p}}(t.status)).then(n),v()},color:"primary",autoFocus:!0,children:"Confirm"}),Object(D.jsx)(S.a,{onClick:v,children:"Cancel"})]})]})]})},A=Object(m.a)((function(){return Object(v.a)({root:{flexGrow:1}})}));var G=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(a.a)(s,2),u=i[0],l=i[1];function b(){return(b=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,d();case 4:t=e.sent,n=t.data,l(n);case 7:return e.prev=7,r(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})))).apply(this,arguments)}return[n,u,function(){return b.apply(this,arguments)}]}(),t=Object(a.a)(e,3),n=t[0],r=t[1],s=t[2];Object(c.useEffect)((function(){s()}),[]);var i=A();return n?"Loading...":Object(D.jsx)("div",{className:i.root,children:Object(D.jsxs)(g.a,{container:!0,spacing:1,children:[Object(D.jsxs)(g.a,{item:!0,xs:4,children:[Object(D.jsx)("h3",{children:"OPEN"}),r.filter((function(e){return O===e.status})).map((function(e){return Object(D.jsx)(L,{issue:e,refresh:s},e.id)}))]}),Object(D.jsxs)(g.a,{item:!0,xs:4,children:[Object(D.jsx)("h3",{children:"PENDING"}),r.filter((function(e){return h===e.status})).map((function(e){return Object(D.jsx)(L,{issue:e,refresh:s},e.id)}))]}),Object(D.jsxs)(g.a,{item:!0,xs:4,children:[Object(D.jsx)("h3",{children:"CLOSED"}),r.filter((function(e){return p===e.status})).map((function(e){return Object(D.jsx)(L,{issue:e,refresh:s},e.id)}))]})]})})};var J=function(){var e=function(){var e=Object(c.useState)(),t=Object(a.a)(e,2),n=t[0],r=t[1];return b.a.interceptors.response.use(null,(function(e){return r(e),Promise.reject(e)})),[n,r]}(),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)("h1",{children:"Issue tracker"}),Object(D.jsx)(G,{}),n&&Object(D.jsx)(i.a,{autoHideDuration:5e3,open:Boolean(n),onClose:function(){return r()},message:n.message})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,155)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},H=n(147),Y=n(146),q=n(44),z=n(64),K=Object(z.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:q.a.A400},background:{default:"#fff"}}});s.a.render(Object(D.jsxs)(Y.a,{theme:K,children:[Object(D.jsx)(H.a,{}),Object(D.jsx)(J,{})]}),document.getElementById("root")),T()},78:function(e,t,n){},79:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.1101f2a6.chunk.js.map